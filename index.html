---
layout: main
title: Начало
title-en: Index
order: 1
---

<h1>This should be the initial page</h1>

<div class="index-banner">

    <a class="arrow backward"></a>

    <div class="images">
        <figure>
            <img src="https://dragzone.bg/media/wysiwyg/file_5.jpg" alt="discount"/>
        </figure>
        <figure>
            <img src="https://i1.wp.com/www.trijordan.com/wp-content/uploads/2018/12/IMG_4714.jpg?resize=1500%2C500&ssl=1" alt="sprint-bikes">
        </figure>
        <figure>
            <img src="https://ozkan.accountants/wp-content/uploads/2015/08/CONTACT-2000x500px-1024x430.png" alt="sprint-bikes">
        </figure>
    </div>

    <a class="arrow forward"></a>
</div>

<script>

    (async function indexAnimation()  {

        document.querySelector('.site-main').style.height = '450px';
        let c = 0;

        const elements = {

            forwardArrow: document.querySelector('.forward'),
            backwardArrow: document.querySelector('.backward'),
            imageParent: document.querySelector('.images'),
        };

        let id = -1;

        const actions = {
            showNext: async () =>{

                // currentImage.style.opacity = '0';

                id++;

                if (id > 2){
                    id = 0;
                }

                const nextImage = elements.imageParent.children[id];
                nextImage.style.height = 'auto';
                nextImage.style.width = '100%';
                nextImage.style.transform = 'translateX(0px)';

                elements.forwardArrow.onclick = null;

                await setTimeout(() =>{
                    const prevIndex = (id - 1) >= 0 ? (id - 1) : 2;
                    const prevImage = elements.imageParent.children[prevIndex];
                    prevImage.style.height = '0';
                    prevImage.style.width = '0';
                    prevImage.style.transform = 'translateX(-1500px)';
                    prevImage.style.zIndex = '0';

                    elements.forwardArrow.addEventListener('click', actions.showNext);

                }, 2.0 * 1000);
            },

            showPrev: async () =>{

                id--;

                if (id < 0){
                    id = 2;
                }

                const prevImage = elements.imageParent.children[id];
                prevImage.style.height = 'auto';
                prevImage.style.width = '100%';
                prevImage.style.transform = 'translateX(0px)';

                await setTimeout(() =>{
                    const nextImage = elements.imageParent.children[id + 1];
                    nextImage.style.height = '0';
                    nextImage.style.width = '0';
                    nextImage.style.transform = 'translateX(-1500px)';
                    nextImage.style.zIndex = '0';

                }, 2 * 1000);
            }
        };

        // elements.forwardArrow.addEventListener('click', async () =>{
        //      await clearInterval(c);
        //      await actions.showNext();
        //      c = setInterval(actions.showNext, 5000);
        //
        // });

        // elements.backwardArrow.addEventListener('click', async () =>{
        //     await clearInterval(c);
        //     await actions.showPrev();
        //     c = setInterval(actions.showNext, 5000);
        // });

        await actions.showNext();
        c = setInterval(actions.showNext, 4000);
    }());

</script>